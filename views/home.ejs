<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        body {
            background-color: #f0f0f0;
            color: #333;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
</head>
<body>
    <h1>HomePage</h1>
    <p>Welcome to the URL Shortener!</p>
    <% if(locals.id) {  %> 
        <p>Your shortened url is : http://localhost:3001/url/<%= locals.id %></p>
    <% } %>
    <form action="/url" method="POST">
        <input type="text" name="originalUrl" placeholder="Enter URL to shorten" required>
        <button type="submit">Shorten URL</button>
    </form>
    <% if (locals.urls){ %>  
    <div>
    <table>
        <thead>
            <th> Sr no </th>
            <th> Original URL </th>
            <th> Short URL </th>
            <th> Clicks </th>
        </thead>
        <tbody>
            <% urls.forEach((url,index) => { %>
                <tr></tr>
                <td> <%= index + 1 %> </td>
                <td> <%= url.originalUrl %> </td>
                <td> <%= url.shortUrl %> </td>
                <td> <%= url.vistHistory.length %> </td>
            <% }) %>
        </tbody>
    </table>
    </div>
    <% } %>

</body>

</html>